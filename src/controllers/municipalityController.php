<?phpnamespace controllers;use models\municipality;require_once '../models/municipality.php';class municipalityController{    public static function showTitle_Id():void    {        $model = new municipality();        $data = $model->showIdAndTitle();        $select = '';        if ($data){            foreach ($data as $row){                $select .='                   <option value="" id="municipality_Id_msg" class="invalid-feedback" selected>Select Municipality</option>                   <option value="'.$row['id'].'">'.$row['municipalityName'].'</option>            ';            }        }else{            $select .='                   <option value="">No Municipality Found</option>            ';        }        echo $select;    }    public function store():void    {        $image = $_FILES['image'];        $fileDir = '../../assets/municipalityUploaded/';        $Fields = [            'Municipality' => 'municipality name is required',            'Description' => 'description is required'        ];        $data = [];        $error = [];        foreach ($Fields as $field => $message){            if (!isset($_POST[$field]) || trim($_POST[$field]) === ''){                $error[$field] = $message;            }else{                $data[$field] = htmlspecialchars($_POST[$field]);            }        }        if (!empty($error)){ // check if the error array is ! empty            $data['success'] = false;            $data['errors'] = $error;            echo json_encode($data);            return;        }        // handle the uploading image        if ($image &&  !empty($image['name'])){            $fileInfo = pathinfo($image['name']);            $fileExtension = strtolower($fileInfo['extension']);            $fileName = uniqid('MunicipalityImage_'). '.' .$fileExtension;            $uploadPath = $fileDir. $fileName;            if (!move_uploaded_file($image['tmp_name'],$uploadPath)){                $data['success'] = false;                $data['message'] = 'Upload Failed';                echo json_encode($data);                return;            }            $data['image'] = $fileName;        }else{            echo  json_encode(['success' => false ,'message' => 'image is required']);            return;        }        // call the method to store the data        $model = new municipality();        $model->store($data['Municipality'],$data['image'],$data['Description']);    }    public static function showAllCard():void    {        $list = new municipality();        $data = $list->showAll();        $card = '';        if ($data){            foreach ($data as $row){                $card .= '                   <!-- Card Start -->                    <form action="showTouristSpotBaseOnMunicipality.php" method="post" class="card p-0 col-lg-3 col-md-5">                        <img style="height: 40vh; object-fit: cover" class="card-img-top card-img" src="../../assets/municipalityUploaded/'.$row['image'].'" alt="image">                        <div class="card-body">                            <input type="hidden" value="'.$row['id'].'" name="Id">                            <input type="hidden" value="'.$row['municipalityName'].'" name="Title">                            <h5 class="card-title text-light">'.$row['municipalityName'].'</h5>                            <button type="submit" class="btn btn-danger">View Details</button>                        </div>                    </form>                    <!-- Card End -->                ';            }        }        echo $card;    }}if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['action'])){    $municipality = new municipalityController();    match ($_POST['action']){        'store' => $municipality->store()    };}