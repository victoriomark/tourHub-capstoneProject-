<?phpnamespace controllers;use models\events;include_once '../models/events.php';class eventsController{    public function store():void    {        $image = $_FILES['image'];        $fileDir = '../../assets/EventUploadedImage/';        $Fields = [            'Title' => 'event title is required',            'Description' => 'description is required',            'Location' => 'location is required',             'Date' => 'date is required'        ];        $data = [];        $error = [];        foreach ($Fields as $field => $message){            if (!isset($_POST[$field]) || trim($_POST[$field]) === ''){                $error[$field] = $message;            }else{                $data[$field] = htmlspecialchars($_POST[$field]);            }        }        if (!empty($error)){ // check if the error array is ! empty            $data['success'] = false;            $data['errors'] = $error;            echo json_encode($data);            return;        }        // handle the uploading image        if ($image &&  !empty($image['name'])){            $fileInfo = pathinfo($image['name']);            $fileExtension = strtolower($fileInfo['extension']);            $fileName = uniqid('EventImage_'). '.' .$fileExtension;            $uploadPath = $fileDir. $fileName;            if (!move_uploaded_file($image['tmp_name'],$uploadPath)){                $data['success'] = false;                $data['message'] = 'Upload Failed';                echo json_encode($data);                return;            }            $data['image'] = $fileName;        }else{            echo  json_encode(['success' => false ,'message' => 'image is required']);            return;        }        // call the method to store data        (new events())->store($data['Title'],$data['Description'],$data['image'],$data['Date'],$data['Location']);    }    public static function showAll():void    {        $eventList = new events();        $data = $eventList->showAll();        $tableTr = '';        if ($data){            foreach ($data as $row){                $tableTr .= '                  <tr>                   <th>'.$row['id'].'</th>                   <td>                    <img style="height: 50px; width: 50px; object-fit: cover;" class="img-fluid" src="../../assets/EventUploadedImage/'.$row['image'].'" alt="image">                   </td>                   <td>'.$row['evnetName'].'</td>                   <td>'.$row['location'].'</td>                    <td>'.$row['date'].'</td>                   <td>                    <button class="btn btn-primary">Edit</button>                    <button class="btn btn-danger">Delete</button>                 </td>                 </tr>               ';            }            echo $tableTr;        }    }}if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['action'])){    $event = new eventsController();    match ($_POST['action']){        'store' => $event->store(),        default => http_response_code(400)    };}